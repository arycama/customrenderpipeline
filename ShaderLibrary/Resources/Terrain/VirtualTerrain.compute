#pragma kernel CSMain

AppendStructuredBuffer<uint> VirtualRequests;
RWStructuredBuffer<uint> VirtualFeedbackTexture;

[numthreads(1024, 1, 1)]
void CSMain (uint3 id : SV_DispatchThreadID)
{
	uint result = VirtualFeedbackTexture[id.x];
	if (!result)
		return;
		
	VirtualRequests.Append(id.x);
	VirtualFeedbackTexture[id.x] = 0;
}