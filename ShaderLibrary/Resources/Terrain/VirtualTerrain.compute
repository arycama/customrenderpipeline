#pragma kernel CSMain

AppendStructuredBuffer<uint> VirtualRequests;
RWStructuredBuffer<uint> VirtualFeedbackTexture;

[numthreads(1024, 1, 1)]
void CSMain (uint id : SV_DispatchThreadID)
{
	uint result = VirtualFeedbackTexture[id];
	if (!result)
		return;
		
	VirtualRequests.Append(id);
	VirtualFeedbackTexture[id] = 0;
}